{#
-- Copyright (c) 2022 Carsten Igel.
--
-- This file is part of Social Auth Provider for Kiwi TCMS 
-- (see https://github.com/carstencodes/kiwi-tcms-extras-social-auth).
--
-- This program is free software: you can redistribute it and/or modify
-- it under the terms of the GNU General Public License as published by
-- the Free Software Foundation, either version 3 of the License, or
-- (at your option) any later version.
--
-- This program is distributed in the hope that it will be useful,
-- but WITHOUT ANY WARRANTY; without even the implied warranty of
-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-- GNU General Public License for more details.
--
-- You should have received a copy of the GNU General Public License
-- along with this program. If not, see <http://www.gnu.org/licenses/>.
#}
{% extends "registration/login.html" %}
{% load social_icons %}

{% block custom_login %}
{% if len(backends) > 0 %}
<div>
    <div class="col-xs-8 col-sm-offset-2 col-sm-6 col-md-offset-2 col-md-6">
        <span class="social-login-block">Continue with</span>
    </div>
    <div class="col-xs-4 col-sm-4 col-md-4 submit">
        <div class="social_login btn-group" role="group">
            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                <span class="glyph">
                    <!-- 
                        User.svg, published under MIT license in 
                        https://github.com/feathericons/feather/tree/f81cd40fdcdd5e94f3f97eb670a5058e3aac528d
                     -->
                     <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        >
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                        <circle cx="12" cy="7" r="4" />
                    </svg>
                </span>
                <span class="provider_name">Social login</span>
            </button>
            <div class="dropdown-menu">
            {% for backend in backends.backends %}
                <a href='{% url social:begin backend|lower %}' class="dropdown-item" style="display: block">
                    <span class="glyph">{{ backend|lower|get_social_icon }}</span>
                    <span class="provider_name">{{ backend|title }}</span>
                </a>
                <a href='{% url social:begin backend|lower %}' class="dropdown-item" style="display: block">
                    <span class="glyph">{{ backend|lower|get_social_icon }}</span>
                    <span class="provider_name">{{ backend|title }}</span>
                </a>
            {% endfor %}
            </div>
        </div>
    </div>  
</div>
{% endif %}
{% endblock %}